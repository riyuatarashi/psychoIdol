<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<title>Document</title>

		<link rel="stylesheet" type="text/css" href="public/css/app.css"/>

		<!-- Bootstrap -->
			<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

	</head>

	<body>
		<div class="main_menu">
			<img class="back" src="public/img/background/bg.jpg" alt="">
			<main class="corp">
				<h1 class="titre_menu">Psycho Idol</h1>
				<div class="home">
					<div class="menu">
						<button id="play">New game</button>
						<button id="again">Resume</button>
						<button id="top">Top score</button>
					</div>
					<div>
						<img class="actor" src="public/img/characters/Actor1_5.png" alt="">
					</div>
				</div>
			
				<button class="sound">
					<i class="fas fa-volume-up"></i>
				
				</button>
			 </main>
		
		
			<audio controls id="new" hidden="true" >
				<source src="public/audio/se/Sword2.m4a" type="audio/mpeg">
			</audio>
			<audio controls id="resume" hidden="true" >
				<source src="public/audio/se/Attack3.m4a" type="audio/mpeg">
			</audio>
			<audio controls id="score" hidden="true" >
				<source src="public/audio/se/Skill3.m4a" type="audio/mpeg">
			</audio>
			<audio controls autoplay id="sound" hidden="true" >
				<source src="public/audio/bgm/Dungeon1.m4a" type="audio/mpeg">
			</audio>
		</div>


		<div class="game">
		<header class="container-fluid bg-dark py-3">
			<div class="row row-cols-lg-auto g-3 align-items-center">
				<h1 class="col-12 text-white">Serpent : Appuyer sur "Echap" pour gérer les touches !</h1>
			</div>
		</header>

		<main class="main d-flex flex-wrap justify-content-center align-items-center bg-secondary">
			<div id="key-menu" class="popup d-none">
				<i class="far fa-pause-circle"></i>
				<div class="popup-content">
					<form class="form col-12">
						<div class="input-group col-1 mb-3">
							<span class="input-group-text bg-dark text-white col-6">monter</span>
							<p id="key-up" class="change-key form-control bg-secondary text-white mb-0" type="text" onclick="_OBJ_.game.setKeyType('up')">z</p>
						</div>
						<div class="input-group col-1 mb-3">
							<span class="input-group-text bg-dark text-white col-6">descendre</span>
							<p id="key-down" class="change-key form-control bg-secondary text-white mb-0" type="text" onclick="_OBJ_.game.setKeyType('down')">s</p>
						</div>
						<div class="input-group col-1 mb-3">
							<span class="input-group-text bg-dark text-white col-6">aller à gauche</span>
							<p id="key-left" class="change-key form-control bg-secondary text-white mb-0" type="text" onclick="_OBJ_.game.setKeyType('left')">q</p>
						</div>
						<div class="input-group col-1 mb-3">
							<span class="input-group-text bg-dark text-white col-6">aller à droite</span>
							<p id="key-right" class="change-key form-control bg-secondary text-white mb-0" type="text" onclick="_OBJ_.game.setKeyType('right')">d</p>
						</div>
						<div class="input-group col-1 mb-3">
							<span class="input-group-text bg-dark text-white col-6">attaquer</span>
							<input class="form-control bg-secondary text-white" type="text" value="click droit" disabled/>
						</div>
						<button ref="key-menu" type="button" class="submit col-4 offset-4 btn btn-outline-light mb-2">APPLY</button>
						<button ref="key-menu" type="button" class="submit col-4 offset-4 btn btn-outline-light">EXIT</button>
					</form>
				</div>
			</div>
			
			<canvas id="box" class="box bg-dark rounded-3 m-5" width="10" height="10"></canvas>
		</main>

		<div class="sources d-none">
			<img id="Actor1" src="public/img/characters/Actor1.png"/>
			<img id="Monster" src="public/img/characters/Monster.png"/>
		</div>
		<img id="face_dialogue" src="" alt="">
		<div class="box_dialogue">
			<span class="text_dialogue"></span>
			<i id="click" class="fas fa-mouse-pointer"></i>
		</div>	
	</div>
	<div class="background">
	<div class="scores">
		<div class="scores-content">
			<h1 class="title-highscores">HIGHSCORES</h1>
			<div class="titles">
				<h2>NAME</h2>
				<h2>SCORE</h2>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">1.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">12 505</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">2.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">10 665</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">3.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">9 830</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">4.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">9 550</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">5.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">9 120</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">6.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">7 960</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">7.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">6 635</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">8.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">5 455</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">9.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">4 360</p>
			</div>
	
			<div class="score-group">
				<div class="user-num">
					<p class="num">10.</p>
					<p class="user">BIDULE</p>
				</div>
				<p class="score">1 855</p>
			</div>
	
			<a class="again" href="">PLAY AGAIN</a>
		</div>
	</div>
	</div>
	</body>

	<!-- Script -->
			<!-- Font Awesome -->
				<script src="https://kit.fontawesome.com/9e8af133d8.js" crossorigin="anonymous"></script>

			<!-- class -->
				<!-- game -->
					<script src="public/js/game.js"></script>
				<!-- map -->
					<script src="public/js/map.js"></script>
				<!-- camera -->
					<script src="public/js/camera.js"></script>
				<!-- character -->
					<script src="public/js/character.js"></script>
				<!-- monster -->
					<script src="public/js/monster.js"></script>
				<!-- attack -->
					<script src="public/js/attack.js"></script>
				<!-- save -->
					<script src="public/js/db.js"></script>
				<!-- menu -->
					<script src="public/js/menu.js"></script>	

				<!-- dialogue -->
					<script> let tableauJS = {{ json|raw }}; </script>
					<script src="public/js/dialogue.js"></script>	

			<!-- fonctions -->
				<script type="text/javascript">
					function randInRange(min,max){return Math.floor((Math.random()*max))+min}
					function isString(v){return typeof v === 'string' || v instanceof String}

					function getPowOf(number, splitter, max, padding) {
						var out = splitter*Math.round(number/splitter), max = splitter*max;
						out = (out > max) ? max : out-padding;
						return out;
					}

					function logSizes() {
						console.log(
							"_CELLS_SIZE " + _CELLS_SIZE +
							"\n_WORLD_WIDTH " + _WORLD_WIDTH +
							"\n_WORLD_HEIGHT " + _WORLD_HEIGHT +
							"\n_COUNT_CELLS_WIDTH " + _COUNT_CELLS_WIDTH +
							"\n_COUNT_CELLS_HEIGHT " + _COUNT_CELLS_HEIGHT
						);
					}
				</script>

			<!-- default var -->
				<script src="public/js/_DEFAULT_VAR_.js"></script>

			<!-- main -->
				<script type="text/javascript">
					canvas.width = _WORLD_WIDTH;
					canvas.height = _WORLD_HEIGHT;

					var _OBJ_ = {};
						_OBJ_['game'] = new Game(3);
						_OBJ_['map'] = new Map();
						_OBJ_['camera'] = new Camera();
						_OBJ_['character'] = new Character(document.getElementById('Actor1'), 0, 1);
						_OBJ_['monsters'] = [];
						_OBJ_['attacks'] =  [];

					logSizes();
				</script>
</html>
